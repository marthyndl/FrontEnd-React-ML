{"ast":null,"code":"import _regeneratorRuntime from \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/src/components/ProductDetail.js\";\nimport React from 'react';\nimport ML from \"../api/ML\";\nimport Breadcrumb from './Breadcrumb';\nimport NotFound from './NotFound';\n\nvar ProductDetail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProductDetail, _React$Component);\n\n  function ProductDetail() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductDetail)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      product: null,\n      categories: [],\n      error: false\n    };\n    return _this;\n  }\n\n  _createClass(ProductDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.match) {\n        var id = this.props.match.params.id;\n        this.fetchProduct(id);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(_ref) {\n      var match = _ref.match;\n\n      if (match) {\n        var id = match.params.id;\n        this.fetchProduct(id);\n      }\n    }\n  }, {\n    key: \"fetchProduct\",\n    value: function () {\n      var _fetchProduct = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(id) {\n        var _ref2, data, response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return ML.get(\"/api/items/\".concat(id));\n\n              case 3:\n                _ref2 = _context.sent;\n                data = _ref2.data;\n                this.setState({\n                  product: data.item,\n                  categories: data.categories\n                });\n                _context.next = 12;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                response = _context.t0.response;\n\n                if (response.data.status === 404) {\n                  this.setState({\n                    error: true\n                  });\n                }\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function fetchProduct(_x) {\n        return _fetchProduct.apply(this, arguments);\n      }\n\n      return fetchProduct;\n    }()\n  }, {\n    key: \"renderDetail\",\n    value: function renderDetail() {\n      var product = this.state.product;\n\n      if (!product) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"row product-detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"figure\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: product.picture,\n        alt: product.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"description p-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Descripci\\xF3n del producto\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, product.description ? product.description : 'La tienda no incluyó una descripción del producto'))), React.createElement(\"div\", {\n        className: \"col-md-4 short-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 pl-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, product.condition.charAt(0).toUpperCase() + product.condition.slice(1), \" - \", product.sold_quantity, \" vendidos\")), React.createElement(\"div\", {\n        className: \"p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, product.title))), React.createElement(\"div\", {\n        className: \"p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"$ \", parseInt(product.price.amount).toLocaleString(), React.createElement(\"span\", {\n        className: \"decimals\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, product.price.decimals))), React.createElement(\"div\", {\n        className: \"p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-lg btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Comprar\"))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container d-flex flex-column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(NotFound, {\n        show: this.state.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(Breadcrumb, {\n        elements: this.state.categories,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"flex-grow-1 bg-white rounded detail-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.renderDetail()));\n    }\n  }]);\n\n  return ProductDetail;\n}(React.Component);\n\nexport default ProductDetail;","map":{"version":3,"sources":["/home/tincho/Documentos/Projects/React/FrontEnd-React-ML/src/components/ProductDetail.js"],"names":["React","ML","Breadcrumb","NotFound","ProductDetail","state","product","categories","error","props","match","id","params","fetchProduct","get","data","setState","item","response","status","picture","title","description","condition","charAt","toUpperCase","slice","sold_quantity","parseInt","price","amount","toLocaleString","decimals","renderDetail","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ML from \"../api/ML\";\n\nimport Breadcrumb from './Breadcrumb';\nimport NotFound from './NotFound';\n\nclass ProductDetail extends React.Component {\n    state = {\n        product: null,\n        categories: [],\n        error: false\n    }\n\n    componentDidMount(){\n        if(this.props.match){\n            let id = this.props.match.params.id;\n            this.fetchProduct(id);\n\n        }\n    }\n\n    componentWillReceiveProps({match}) {\n        if(match){\n            let id = match.params.id;\n            this.fetchProduct(id);\n        }\n    }\n\n    async fetchProduct(id){\n        try {\n            let {data} = await ML.get(`/api/items/${id}`);\n            this.setState({ product: data.item, categories: data.categories});\n        }catch ({response}) {\n            if(response.data.status === 404){\n                this.setState({error: true})\n            }\n        }\n    }\n\n    renderDetail(){\n        const { product } = this.state;\n        if(!product){\n            return <div></div>\n        }\n\n        return (\n            <div className=\"row product-detail\">\n                <div className=\"col-md-8\">\n                    <figure>\n                        <img src={product.picture} alt={product.title}/>\n                    </figure>\n                    <div className=\"description p-4\">\n                        <h3>Descripción del producto</h3>\n                        <p>\n                            { (product.description) ? product.description : 'La tienda no incluyó una descripción del producto' }\n                        </p>\n                    </div>\n                </div>\n                <div className=\"col-md-4 short-description\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12 pl-4\">\n                            {product.condition.charAt(0).toUpperCase() + product.condition.slice(1)} - {product.sold_quantity} vendidos\n                        </div>\n                    </div>\n                    <div className=\"p-2\">\n                        <h3>\n                            <strong>{product.title}</strong>\n                        </h3>\n                    </div>\n                    <div className=\"p-2\">\n                        <h1>\n                            $ {(parseInt(product.price.amount)).toLocaleString()}\n                            <span className=\"decimals\">{product.price.decimals}</span>\n                        </h1>\n                    </div>\n                    <div className=\"p-2\">\n                        <button type=\"button\" className=\"btn btn-primary btn-lg btn-block\">Comprar</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    render(){\n        return (\n            <div className=\"container d-flex flex-column\">\n                <NotFound show={this.state.error}/>\n                <Breadcrumb elements={this.state.categories}/>\n                <div className=\"flex-grow-1 bg-white rounded detail-box\">\n                    {this.renderDetail()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ProductDetail;"]},"metadata":{},"sourceType":"module"}